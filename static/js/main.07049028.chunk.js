(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,n){e.exports={root:"PlayField_root__1NBq1",top:"PlayField_top__15tpd",buttonChangeRound:"PlayField_buttonChangeRound__230Fu",round:"PlayField_round__1KHUt",activationTokens:"PlayField_activationTokens__3nNgI",statistics:"PlayField_statistics__3Y9a7",gloryPointsControls:"PlayField_gloryPointsControls__3d-w8",gloryPoints:"PlayField_gloryPoints__1g3p2",gloryPoint:"PlayField_gloryPoint__3anpN",bottom:"PlayField_bottom__39J6I",buttonEndGame:"PlayField_buttonEndGame__1GtlX"}},25:function(e,t,n){e.exports={root:"FighterItem_root__3fYUL",focused:"FighterItem_focused__1fytl",imageContainer:"FighterItem_imageContainer__2Ytdc",dead:"FighterItem_dead__1VLcB",imageIsDead:"FighterItem_imageIsDead__2J0jY",imageFighter:"FighterItem_imageFighter__w_NNR"}},31:function(e,t,n){e.exports={root:"Menu_root__15shr",title:"Menu_title__1VVIM",items:"Menu_items__3by7Z",item:"Menu_item__1zdMC"}},32:function(e,t,n){e.exports={root:"Button_root__2-QVb",primary:"Button_primary__FZqYg",secondary:"Button_secondary__1_JU8",third:"Button_third__3rmlg",disabled:"Button_disabled__3vE9A"}},33:function(e,t,n){e.exports={root:"ChooseSquad_root__zMTP1",title:"ChooseSquad_title__2vmE6",paper:"ChooseSquad_paper__1YGzK",items:"ChooseSquad_items__5WYYr",bottom:"ChooseSquad_bottom__1ijla"}},34:function(e,t,n){e.exports={root:"GameEnd_root__2h6Qj",title:"GameEnd_title__unVR0",statistics:"GameEnd_statistics__3iA8j",bottom:"GameEnd_bottom__PtfK7",buttonAccept:"GameEnd_buttonAccept__wDaSZ"}},38:function(e,t,n){e.exports={root:"InGameTabs_root__3tNls",button:"InGameTabs_button__1jr08"}},44:function(e,t,n){e.exports={root:"SquadItem_root__1GrLk",focused:"SquadItem_focused__1dRd7",imageContainer:"SquadItem_imageContainer__34L9E",name:"SquadItem_name__3vZRU"}},52:function(e,t,n){e.exports={root:"Icons_root__8nskU",tiny:"Icons_tiny__2YyJc"}},53:function(e,t,n){e.exports={content:"App_content__2cDQP"}},58:function(e,t,n){e.exports={root:"ActivationToken_root__18aDM"}},59:function(e,t,n){e.exports={root:"InnerBorderRadiusWrapper_root__zTUsN"}},60:function(e,t,n){e.exports={root:"Scroll_root__2WouV"}},80:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(39),i=n.n(s),o=n(53),d=n.n(o),l=n(31),u=n(4),j=n(18),b=n(14),_=n(32),O=n.n(_),m=n(13),h=n.n(m),f=function(e){var t,n=e.className,a=e.theme,r=void 0===a?"primary":a,s=Object(b.a)(e,["className","theme"]);return"primary"===r?t=O.a.primary:"secondary"===r?t=O.a.secondary:"third"===r&&(t=O.a.third),Object(c.jsx)("button",Object(u.a)({className:h()(O.a.root,t,n,Object(j.a)({},O.a.disabled,s.disabled))},s))},v=n(11),p=n(84),x=n(8),E={language:"ru"},g=function(e){return{type:"SETTINGS-REDUCER/SET-LANGUAGE",language:e}},N=function(){var e=Object(p.a)().t,t=Object(x.b)(),n=Object(x.c)((function(e){return e.settings})).language;return Object(c.jsxs)("div",{className:l.root,children:[Object(c.jsx)(f,{theme:"secondary",onClick:function(){t(g("ru"===n?"en":"ru"))},children:n}),Object(c.jsxs)("div",{className:l.items,children:[Object(c.jsx)("div",{className:l.title,children:e("welcome")}),Object(c.jsx)(v.b,{to:me.CHOOSE_SQUAD.path,className:l.item,children:Object(c.jsx)(f,{children:e("startGame")})}),Object(c.jsx)(v.b,{to:me.PLAY_FIELD.path,className:l.item,children:Object(c.jsx)(f,{children:e("continue")})})]})]})},C=n(30),A=n(33),D=n.n(A),R=n(44),y=function(e){var t=e.name,n=e.color,a=e.image,r=e.className,s=void 0===r?"":r,i=e.isFocused,o=Object(b.a)(e,["name","color","image","className","isFocused"]);return Object(c.jsx)("div",Object(u.a)(Object(u.a)({className:m(R.root,s,Object(j.a)({},R.focused,i))},o),{},{children:Object(c.jsx)("div",{style:{backgroundColor:n},className:R.imageContainer,children:Object(c.jsx)("img",{src:a,alt:t})})}))},S=n(23),P={currentRound:0,currentWarBand:0,rounds:[],isGameCanBeSaved:!1},T=function(e){return{type:"GAME-REDUCER/SET-rounds",rounds:e}},I=function(e,t,n){return{type:"GAME-REDUCER/UPDATE-CARD",data:{roundIndex:e,index:t,newPropertyValues:n}}},k=function(e,t,n){return{type:"GAME-REDUCER/UPDATE-ACTIVATION-TOKEN",data:{roundIndex:e,index:t,newPropertyValues:n}}},G=function(e){return{type:"GAME-REDUCER/SET-CURRENT-ROUND",payload:e}},U=function(e){return{type:"GAME-REDUCER/SET-CURRENT-WAR-BAND",payload:e}},F=function(e,t){return{type:"GAME-REDUCER/SET-GLORY-POINTS",data:{roundIndex:e,newPropertyValues:t}}},M=function(e){return{type:"GAME-REDUCER/LOAD-GAME-SUCCESS",data:e}},w="move",B="attack",L="defend",V="dodge",W=function(){var e=Object(x.b)(),t=Object(p.a)().t,n=Object(p.a)("warBands").t,r=Object(a.useState)(0),s=Object(C.a)(r,2),i=s[0],o=s[1],d=n("items",{returnObjects:!0}).map((function(t,n){var a=t.name,r=t.icon,s=t.color;return Object(c.jsx)(y,{name:a,image:r,color:s,isFocused:i===n,onClick:function(){o(n),e(U(n))}},"war-band-".concat(n))}));return Object(c.jsxs)("div",{className:D.a.root,children:[Object(c.jsx)("div",{className:D.a.title,children:t("chooseSquad")}),Object(c.jsxs)("div",{className:D.a.paper,children:[Object(c.jsx)("div",{className:D.a.items,children:d}),Object(c.jsx)("div",{className:D.a.bottom,children:Object(c.jsx)(v.b,{to:me.PLAY_FIELD.path,children:Object(c.jsx)(f,{onClick:function(){},children:t("acceptChoose")})})})]})]})},Y=n(7),q=n(34),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.isActive}))},z=function(e){return e.filter((function(e){return!!e.healthPoints}))},J=function(e){return"/warhamer-underworlds"+e},K=function(e){return J("/images/icons/".concat(e,".png"))},X=function(){var e=Object(p.a)().t,t=Object(x.c)((function(e){return e.game})).rounds,n=t.reduce((function(e,t){return e+function(e){return e.length-z(e).length}(t.cards)}),0),a=t.reduce((function(e,t){return e+t.gloryPoints.wasted.count}),0),r=t.reduce((function(e,t){return e+t.gloryPoints.notWasted.count}),0);return Object(c.jsxs)("div",{className:q.root,children:[Object(c.jsx)("div",{className:q.title,children:e("gameEnd")}),Object(c.jsx)("div",{className:q.statistics,children:Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("gloryPointTokens")}),Object(c.jsx)("td",{children:r})]})}),Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("notWasted")}),Object(c.jsx)("td",{children:r})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("wasted")}),Object(c.jsx)("td",{children:a})]})]}),Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("fightersInTheSquad")}),Object(c.jsx)("td",{children:r})]})}),Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("casualties")}),Object(c.jsx)("td",{children:n})]})})]})}),Object(c.jsx)("div",{className:q.bottom,children:Object(c.jsx)(v.b,{to:me.MAIN.path,children:Object(c.jsx)(f,{className:q.buttonAccept,children:e("accept")})})})]})},Q=n(15),Z=n(38),$=n(52),ee=n.n($),te=function(e){var t=e.size,n=e.srcDisabled,a=e.srcHover,r=e.srcDefault,s=e.className,i=Object(b.a)(e,["size","srcDisabled","srcHover","srcDefault","className"]),o="";return"tiny"===t&&(o=ee.a.tiny),Object(c.jsx)("button",Object(u.a)({className:h()(ee.a.root,s,o),style:{"--src-disabled":'url("'.concat(K(n||r),'")'),"--src-hover":'url("'.concat(K(a||r),'")'),"--src-default":'url("'.concat(K(r),'")')}},i))},ne=function(){var e=Object(Y.f)().pathname;return Object(c.jsxs)("div",{className:Z.root,children:[Object(c.jsx)(v.c,{to:me.CARDS.path,children:Object(c.jsx)(te,{className:Z.button,srcDefault:"ic_menu_selected_hero",srcHover:"ic_menu_selected_hero_active",srcDisabled:"ic_menu_selected_hero_active",disabled:e===me.CARDS.path})}),Object(c.jsx)(v.c,{to:me.PLAY_FIELD.path,children:Object(c.jsx)(te,{className:Z.button,srcDefault:"ic_menu_game_score",srcHover:"ic_menu_game_score_active",srcDisabled:"ic_menu_game_score_active",disabled:e===me.PLAY_FIELD.path})}),Object(c.jsx)(v.c,{exact:!0,to:me.MAIN.path,children:Object(c.jsx)(te,{className:Z.button,srcDefault:"ic_menu_save_and_exit",disabled:e===me.MAIN.path})})]})},ce=n(58),ae=function(e){var t,n,a=e.className,r=void 0===a?"":a,s=e.isActive,i=void 0!==s&&s,o=Object(b.a)(e,["className","isActive"]);return i?(t=K("ic_activation_token"),n="Activation token active"):(t=K("ic_activation_token_spent"),n="Activation token spent"),Object(c.jsx)("div",Object(u.a)(Object(u.a)({className:m(ce.root,r)},o),{},{children:Object(c.jsx)("img",{src:t,alt:n})}))},re=n(59),se=function(e){var t=e.className,n=e.children,a=Object(b.a)(e,["className","children"]);return Object(c.jsx)("div",Object(u.a)(Object(u.a)({className:m(re.root,t)},a),{},{children:n}))},ie=function(){var e=Object(x.b)(),t=Object(p.a)().t,n=Object(x.c)((function(e){return e.game})).rounds,a=Object(x.c)((function(e){return e.game})).currentRound,r=n[a],s=n.length,i=null===r||void 0===r?void 0:r.activationTokens,o=a<s-1,d=a>0,l=n.reduce((function(e,t){return e+t.gloryPoints.wasted.count}),0),u=n.reduce((function(e,t){return e+t.gloryPoints.notWasted.count}),0),j=function(){e(F(a,{notWasted:{count:u+1}}))},b=function(){e(F(a,{notWasted:{count:u-1}}))},_=function(){l&&(e(F(a,{wasted:{count:l-1}})),j())},O=function(){u&&(b(),e(F(a,{wasted:{count:l+1}})))},m=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?j():b()},h=function(t){t?o&&e(G(a+1)):d&&e(G(a-1))},E=null===i||void 0===i?void 0:i.map((function(t,n){var r=t.isActive;return Object(c.jsx)(ae,{onClick:function(){e(k(a,n,{isActive:!r}))},isActive:r},n)}));return Object(c.jsxs)("div",{className:Q.root,children:[Object(c.jsxs)("div",{className:Q.top,children:[Object(c.jsx)(te,{className:Q.buttonChangeRound,srcDefault:"ic_previous_round",srcHover:"ic_previous_round_pressed",srcDisabled:"ic_previous_round_inactive",disabled:!d,onClick:function(){return h(!1)}}),Object(c.jsx)(se,{className:Q.round,children:Object(c.jsxs)("span",{children:[t("round")," ",a+1]})}),Object(c.jsx)(te,{className:Q.buttonChangeRound,srcDefault:"ic_next_round",srcHover:"ic_next_round_pressed",srcDisabled:"ic_next_round_inactive",disabled:!o,onClick:function(){return h(!0)}})]}),Object(c.jsx)("div",{className:Q.activationTokens,children:E}),Object(c.jsxs)("div",{className:Q.statistics,children:[Object(c.jsxs)("div",{className:Q.gloryPointsControls,children:[Object(c.jsx)(f,{theme:"secondary",onClick:function(){m(!0)},children:"+"}),Object(c.jsx)(f,{theme:"secondary",disabled:!u,onClick:function(){m(!1)},children:"-"})]}),Object(c.jsxs)("div",{className:Q.gloryPoints,children:[Object(c.jsxs)(f,{disabled:!u,className:Q.gloryPoint,onClick:function(){O()},children:[Object(c.jsx)("img",{src:K("ic_glory_point"),alt:"".concat(t("gloryPointTokens"),' {t("wasted")}')}),u]}),Object(c.jsxs)(f,{disabled:!l,className:Q.gloryPoint,onClick:function(){_()},children:[Object(c.jsx)("img",{src:K("ic_glory_point_spent"),alt:"".concat(t("gloryPointTokens"),' {t("notWasted")}')}),l]})]})]}),Object(c.jsxs)("div",{className:Q.bottom,children:[Object(c.jsx)(v.b,{to:me.GAME_END.path,className:Q.buttonEndGame,children:Object(c.jsx)(f,{theme:"third",children:t("endGame")})}),Object(c.jsx)(ne,{})]})]})},oe=n(9),de=n.n(oe),le=n(25),ue=function(e){var t,n=e.name,a=e.isDead,r=e.image,s=e.className,i=void 0===s?"":s,o=e.isFocused,d=Object(b.a)(e,["name","isDead","image","className","isFocused"]);return Object(c.jsx)("div",Object(u.a)(Object(u.a)({className:m(le.root,i,(t={},Object(j.a)(t,le.focused,o),Object(j.a)(t,le.dead,a),t))},d),{},{children:Object(c.jsxs)("div",{className:le.imageContainer,children:[Object(c.jsx)("img",{className:le.imageFighter,src:r,alt:n}),Object(c.jsx)("img",{className:le.imageIsDead,src:K("ic_fighter_is_dead"),alt:"Is dead"})]})}))},je=n(60),be=n.n(je),_e=function(e){var t=e.className,n=Object(b.a)(e,["className"]);return Object(c.jsx)("div",Object(u.a)({className:h()(be.a.root,t)},n))},Oe=function(){var e,t=Object(x.b)(),n=(0,Object(p.a)("warBands").t)("items",{returnObjects:!0}),r=Object(x.c)((function(e){return e.game})).rounds,s=Object(x.c)((function(e){return e.game})).currentRound,i=Object(x.c)((function(e){return e.game})).currentWarBand,o=Object(a.useState)(0),d=Object(C.a)(o,2),l=d[0],u=d[1],b=Object(a.useState)(!1),_=Object(C.a)(b,2),O=_[0],m=_[1],h=Object(a.useState)(!1),v=Object(C.a)(h,2),E=v[0],g=v[1],N=r[s],A=null===N||void 0===N?void 0:N.activationTokens,D=H(A).length,R=(null===(e=r[s])||void 0===e?void 0:e.cards)||[];Object(a.useEffect)((function(){O&&m(!1)}),[l]);var y,S,P,T,G,U,F=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e)t(I(s,l,{healthPoints:(null===q||void 0===q?void 0:q.healthPoints)+1}));else{var n=q.healthPoints;n&&t(I(s,l,{healthPoints:n-1}))}},M=function(e){if(D){var n;t(I(s,l,Object(j.a)({},e,{applied:!0})));for(var c=A.length-1;c>=0;c--)if(A[c].isActive){n=c;break}n&&t(k(s,n,{isActive:!1}))}},W=function(e){t(I(s,l,Object(j.a)({},e,!1)))},Y=function(){g(!E)},q=R[0];if(q){var z=q.move,J=q.attack,K=q.defend,X=q.dodge;y=D&&!K.applied&&!X.applied&&!J.applied&&!z.applied,S=D&&!J.applied&&!z.applied,P=D&&!J.applied&&!z.applied,T=K.applied&&X.applied,G=J.applied,U=z.applied}var Q,Z=n[i].fighters,$=Z.map((function(e,t){var n=e.icon,a=e.name;return Object(c.jsx)(ue,{isDead:!1,name:a,image:n,isFocused:l===t,onClick:function(){u(t)}},"fighter-".concat(t))})),ee=Z[l],ce=ee.name,ae=ee.description,re=ee.card;return Q=O?re.flipped:re.default,Object(c.jsxs)("div",{className:de.a.root,children:[Object(c.jsx)("div",{className:de.a.top,children:Object(c.jsx)("div",{className:de.a.characters,children:$})}),Object(c.jsx)("div",{className:de.a.middle,children:q?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:de.a.card,children:[Object(c.jsxs)("div",{className:de.a.left,children:[Object(c.jsx)(f,{theme:"secondary",onClick:function(){m(!O)},children:Object(c.jsx)(te,{size:"tiny",className:de.a.actionButton,srcDefault:O?"ic_condition_inspired_active":"ic_condition_inspired"})}),Object(c.jsx)(f,{theme:"secondary",disabled:!U&&!G,onClick:function(){W(w),W(B)},children:Object(c.jsx)(te,{size:"tiny",className:de.a.actionButton,srcDefault:U&&G?"ic_condition_out_of_actions_active":"ic_condition_out_of_moves_active",srcDisabled:"ic_condition_out_of_actions",disabled:!U&&!G})}),Object(c.jsx)(f,{theme:"secondary",disabled:!T,onClick:function(){W(L),W(V)},children:Object(c.jsx)(te,{size:"tiny",className:de.a.actionButton,srcDefault:"ic_condition_on_defensive_active",srcDisabled:"ic_condition_on_defensive",disabled:!T})})]}),Object(c.jsx)("div",{className:de.a.cardContainer,children:Object(c.jsx)("img",{onClick:Y,src:Q,alt:ce})}),Object(c.jsxs)("div",{className:de.a.right,children:[Object(c.jsx)(f,{onClick:function(){F(!0)},theme:"secondary",children:"+"}),Object(c.jsx)("div",{className:de.a.healthPoints,children:q.healthPoints}),Object(c.jsx)(f,{disabled:!q.healthPoints,onClick:function(){F(!1)},theme:"secondary",children:"-"})]})]}),Object(c.jsxs)("div",{className:de.a.actions,children:[Object(c.jsx)(te,{className:de.a.actionButton,srcDefault:"ic_action_defense",srcDisabled:"ic_activation_is_forbidden",disabled:!y,onClick:function(){M(L),M(V)}}),Object(c.jsx)(te,{className:de.a.actionButton,srcDefault:"ic_condition_out_of_actions",srcDisabled:"ic_action_attack_forbidden",disabled:!S,onClick:function(){M(w),M(B)}}),Object(c.jsx)(te,{className:de.a.actionButton,srcDefault:"ic_moves",srcDisabled:"ic_action_movement",disabled:!P,onClick:function(){M(w)}})]})]}):""}),Object(c.jsx)("div",{className:de.a.bottom,children:Object(c.jsx)(ne,{})}),E?Object(c.jsxs)("div",{className:de.a.cardFullScreenContainer,children:[Object(c.jsx)("div",{className:de.a.cardFullScreenTitle,children:ce}),Object(c.jsx)("div",{className:de.a.cardFullScreenImageContainer,children:Object(c.jsx)("img",{onClick:Y,src:Q,alt:ce})}),Object(c.jsx)(_e,{children:Object(c.jsx)("p",{className:de.a.cardFullScreenDescription,children:ae})})]}):""]})},me={MAIN:{path:"/"},CHOOSE_SQUAD:{path:"/choose-squad"},GAME_END:{path:"/game-end"},PLAY_FIELD:{path:"/play-field"},CARDS:{path:"/cards"}};var he=function(){var e=Object(x.b)(),t=Object(p.a)().i18n,n=Object(x.c)((function(e){return e.settings})).language,r=Object(x.c)((function(e){return e.game})).rounds;return Object(a.useEffect)((function(){t.changeLanguage(n)}),[n]),Object(a.useEffect)((function(){r.length||e(T(["\u041e\u0431\u0440\u0438\u043d \u043e\u0442\u0432\u0430\u0436\u043d\u044b\u0439","\u0421\u0435\u0432\u0435\u0440\u0438\u043d \u0421\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u0421\u0435\u0440\u0434\u0446\u0435","\u0410\u043d\u0433\u0430\u0440\u0434 \u0421\u0432\u0435\u0442\u043b\u044b\u0439 \u0429\u0438\u0442"].map((function(e,t){return{activationTokens:[{isActive:!0},{isActive:!0},{isActive:!0},{isActive:!0}],cards:[{id:t,name:e,healthPoints:5,move:{applied:!1},attack:{applied:!1},defend:{applied:!1},dodge:{applied:!1}}],gloryPoints:{wasted:{count:0},notWasted:{count:0}}}}))))}),[r,e]),Object(c.jsx)(v.a,{children:Object(c.jsx)("div",{className:d.a.content,children:Object(c.jsxs)(Y.c,{children:[Object(c.jsx)(Y.a,{path:me.CARDS.path,render:function(){return Object(c.jsx)(Oe,{})}}),Object(c.jsx)(Y.a,{path:me.CHOOSE_SQUAD.path,render:function(){return Object(c.jsx)(W,{})}}),Object(c.jsx)(Y.a,{path:me.GAME_END.path,render:function(){return Object(c.jsx)(X,{})}}),Object(c.jsx)(Y.a,{path:me.PLAY_FIELD.path,render:function(){return Object(c.jsx)(ie,{})}}),Object(c.jsx)(Y.a,{exact:!0,path:me.MAIN.path,render:function(){return Object(c.jsx)(N,{})}})]})})})},fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},ve=(n(80),n(22)),pe=n(64),xe=n(26),Ee=n.n(xe),ge=n(12),Ne="GAME/COMMON-DATA",Ce=function(){var e=localStorage.getItem(Ne),t=null;if(e)try{t=JSON.parse(e)}catch(n){}return t},Ae=Ee.a.mark(ye),De=Ee.a.mark(Se),Re=Ee.a.mark(Pe);function ye(){var e,t,n;return Ee.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(ge.c)((function(e){return e.game.rounds}));case 2:return e=c.sent,c.next=5,Object(ge.c)((function(e){return e.game.currentWarBand}));case 5:return t=c.sent,c.next=8,Object(ge.c)((function(e){return e.game.currentRound}));case 8:n=c.sent,a={rounds:e,currentRound:n,currentWarBand:t},localStorage.setItem(Ne,JSON.stringify(a)),console.log("game saved",{rounds:e,currentRound:n,currentWarBand:t});case 11:case"end":return c.stop()}var a}),Ae)}function Se(){var e;return Ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=Ce())){t.next=5;break}return t.next=4,Object(ge.b)(M(e));case 4:console.log("game loaded",e);case 5:case"end":return t.stop()}}),De)}function Pe(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.a)([Object(ge.d)("GAME-REDUCER/SAVE-GAME",ye),Object(ge.d)("GAME-REDUCER/LOAD-GAME",Se),Object(ge.d)("GAME-REDUCER/SET-rounds",ye),Object(ge.d)("GAME-REDUCER/UPDATE-ROUND",ye),Object(ge.d)("GAME-REDUCER/UPDATE-CARD",ye),Object(ge.d)("GAME-REDUCER/UPDATE-ACTIVATION-TOKEN",ye),Object(ge.d)("GAME-REDUCER/SET-CURRENT-ROUND",ye),Object(ge.d)("GAME-REDUCER/SET-CURRENT-WAR-BAND",ye),Object(ge.d)("GAME-REDUCER/SET-GLORY-POINTS",ye)]);case 2:case"end":return e.stop()}}),Re)}var Te=Object(ve.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,n=function(e,t,n){return e.map((function(e,c){return c===t&&(e=Object(u.a)(Object(u.a)({},e),n)),e}))};switch(t.type){case"GAME-REDUCER/SET-rounds":return Object(u.a)(Object(u.a)({},e),{},{rounds:Object(S.a)(t.rounds)});case"GAME-REDUCER/SET-CURRENT-ROUND":return Object(u.a)(Object(u.a)({},e),{},{currentRound:t.payload});case"GAME-REDUCER/SET-CURRENT-WAR-BAND":return Object(u.a)(Object(u.a)({},e),{},{currentWarBand:t.payload});case"GAME-REDUCER/UPDATE-ROUND":var c=t.data,a=c.index,r=c.newPropertyValues;return Object(u.a)(Object(u.a)({},e),{},{rounds:Object(S.a)(n(e.rounds,a,r))});case"GAME-REDUCER/UPDATE-CARD":var s=t.data,i=s.roundIndex,o=s.index,d=s.newPropertyValues,l=Object(S.a)(e.rounds);return l[i].cards=Object(S.a)(n(l[i].cards,o,d)),Object(u.a)(Object(u.a)({},e),{},{rounds:l});case"GAME-REDUCER/UPDATE-ACTIVATION-TOKEN":var j=t.data,b=j.roundIndex,_=j.index,O=j.newPropertyValues,m=Object(S.a)(e.rounds);return m[b].activationTokens=Object(S.a)(n(m[b].activationTokens,_,O)),Object(u.a)(Object(u.a)({},e),{},{rounds:m});case"GAME-REDUCER/SET-GLORY-POINTS":var h=t.data,f=h.roundIndex,v=h.newPropertyValues,p=Object(S.a)(e.rounds);return p[f].gloryPoints=Object(u.a)(Object(u.a)({},p[f].gloryPoints),v),Object(u.a)(Object(u.a)({},e),{},{rounds:p});case"GAME-REDUCER/RESET-GAME":return Object(u.a)({},P);case"GAME-REDUCER/LOAD-GAME-SUCCESS":var x,E,g;return Object(u.a)(Object(u.a)({},P),{},{rounds:null===(x=t.data)||void 0===x?void 0:x.rounds,currentWarBand:null===(E=t.data)||void 0===E?void 0:E.currentWarBand,currentRound:null===(g=t.data)||void 0===g?void 0:g.currentRound,isGameCanBeSaved:!0});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETTINGS-REDUCER/SET-LANGUAGE":return Object(u.a)(Object(u.a)({},e),{},{language:t.language});default:return e}}}),Ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||ve.d,ke=Object(pe.a)(),Ge=Object(ve.e)(Te,Ie(Object(ve.a)(ke)));ke.run(Pe);var Ue=n(29),Fe=n(61),Me=n(62);Ue.a.use(Me.a).use(Fe.a).init({ns:["common","warBands"],defaultNS:"common",fallbackLng:"ru",debug:!1,keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},detection:{order:["cookie","navigator","path","localStorage","subdomain","queryString","htmlTag"],lookupFromPathIndex:0,caches:["cookie"],cookieMinutes:1e7,lookupQuerystring:"i18next"},backend:{loadPath:J("/locales/{{lng}}/{{ns}}.json")},react:{wait:!1}},(function(e,t){Ue.a.t("myKey"),Ue.a.t("common:myKey")}));var we=Ue.a,Be=n(83),Le=function(){return Object(c.jsx)("div",{children:"Loading..."})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Be.a,{i18n:we,children:Object(c.jsx)(a.Suspense,{fallback:Object(c.jsx)(Le,{}),children:Object(c.jsx)(x.a,{store:Ge,children:Object(c.jsx)(he,{})})})})}),document.getElementById("root")),fe()},9:function(e,t,n){e.exports={root:"Cards_root__3RkX3",top:"Cards_top__3kvPN",characters:"Cards_characters__2jjA-",characterName:"Cards_characterName__1fnBW",middle:"Cards_middle__aBXFe",card:"Cards_card__2X5jI",left:"Cards_left__1vuLh",right:"Cards_right__1rR5w",cardContainer:"Cards_cardContainer__35eFG",actions:"Cards_actions__2fDA8",healthPoints:"Cards_healthPoints__3gxwV",bottom:"Cards_bottom__tFEIU",cardFullScreenContainer:"Cards_cardFullScreenContainer__2Fmmf",cardFullScreenImageContainer:"Cards_cardFullScreenImageContainer__2vNYv",cardFullScreenTitle:"Cards_cardFullScreenTitle__3G8FE",cardFullScreenDescription:"Cards_cardFullScreenDescription__1bqgV"}}},[[82,1,2]]]);
//# sourceMappingURL=main.07049028.chunk.js.map