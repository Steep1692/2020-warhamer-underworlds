(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,n){e.exports={root:"PlayField_root__1NBq1",top:"PlayField_top__15tpd",buttonChangeRound:"PlayField_buttonChangeRound__230Fu",round:"PlayField_round__1KHUt",activationTokens:"PlayField_activationTokens__3nNgI",statistics:"PlayField_statistics__3Y9a7",gloryPointsControls:"PlayField_gloryPointsControls__3d-w8",gloryPoints:"PlayField_gloryPoints__1g3p2",gloryPoint:"PlayField_gloryPoint__3anpN",bottom:"PlayField_bottom__39J6I",buttonEndGame:"PlayField_buttonEndGame__1GtlX"}},24:function(e,t,n){e.exports={root:"FighterItem_root__3fYUL",focused:"FighterItem_focused__1fytl",imageContainer:"FighterItem_imageContainer__2Ytdc",dead:"FighterItem_dead__1VLcB",imageIsDead:"FighterItem_imageIsDead__2J0jY",imageFighter:"FighterItem_imageFighter__w_NNR"}},29:function(e,t,n){e.exports={root:"Menu_root__15shr",title:"Menu_title__1VVIM",items:"Menu_items__3by7Z",item:"Menu_item__1zdMC"}},30:function(e,t,n){e.exports={root:"Button_root__2-QVb",primary:"Button_primary__FZqYg",secondary:"Button_secondary__1_JU8",third:"Button_third__3rmlg",disabled:"Button_disabled__3vE9A"}},31:function(e,t,n){e.exports={root:"ChooseSquad_root__zMTP1",title:"ChooseSquad_title__2vmE6",paper:"ChooseSquad_paper__1YGzK",items:"ChooseSquad_items__5WYYr",bottom:"ChooseSquad_bottom__1ijla"}},32:function(e,t,n){e.exports={root:"GameEnd_root__2h6Qj",title:"GameEnd_title__unVR0",statistics:"GameEnd_statistics__3iA8j",bottom:"GameEnd_bottom__PtfK7",buttonAccept:"GameEnd_buttonAccept__wDaSZ"}},37:function(e,t,n){e.exports={root:"InGameTabs_root__3tNls",button:"InGameTabs_button__1jr08"}},44:function(e,t,n){e.exports={root:"SquadItem_root__1GrLk",focused:"SquadItem_focused__1dRd7",imageContainer:"SquadItem_imageContainer__34L9E",name:"SquadItem_name__3vZRU"}},52:function(e,t,n){e.exports={root:"Icons_root__8nskU",tiny:"Icons_tiny__2YyJc"}},53:function(e,t,n){e.exports={content:"App_content__2cDQP"}},58:function(e,t,n){e.exports={root:"ActivationToken_root__18aDM"}},59:function(e,t,n){e.exports={root:"InnerBorderRadiusWrapper_root__zTUsN"}},79:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),i=n(39),s=n.n(i),o=n(53),d=n.n(o),l=n(29),u=n(4),j=n(17),b=n(16),_=n(30),O=n.n(_),m=n(15),h=n.n(m),f=function(e){var t,n=e.className,a=e.theme,r=void 0===a?"primary":a,i=Object(b.a)(e,["className","theme"]);return"primary"===r?t=O.a.primary:"secondary"===r?t=O.a.secondary:"third"===r&&(t=O.a.third),Object(c.jsx)("button",Object(u.a)({className:h()(O.a.root,t,n,Object(j.a)({},O.a.disabled,i.disabled))},i))},v=n(11),p=n(83),x=n(7),g={language:"ru"},E=function(e){return{type:"SETTINGS-REDUCER/SET-LANGUAGE",language:e}},N=function(){var e=Object(p.a)().t,t=Object(x.b)(),n=Object(x.c)((function(e){return e.settings})).language,a=Object(x.c)((function(e){return e.game})).isGameCanBeSaved;return Object(c.jsxs)("div",{className:l.root,children:[Object(c.jsx)(f,{theme:"secondary",onClick:function(){t(E("ru"===n?"en":"ru"))},children:n}),Object(c.jsxs)("div",{className:l.items,children:[Object(c.jsx)("div",{className:l.title,children:e("welcome")}),Object(c.jsx)(v.b,{to:Oe.CHOOSE_SQUAD.path,className:l.item,children:Object(c.jsx)(f,{children:e("startGame")})}),Object(c.jsx)(v.b,{to:Oe.PLAY_FIELD.path,className:l.item,children:Object(c.jsx)(f,{disabled:!a,children:e("continue")})})]})]})},C=n(28),y=n(31),A=n.n(y),D=n(44),R=function(e){var t=e.name,n=e.color,a=e.image,r=e.className,i=void 0===r?"":r,s=e.isFocused,o=Object(b.a)(e,["name","color","image","className","isFocused"]);return Object(c.jsx)("div",Object(u.a)(Object(u.a)({className:m(D.root,i,Object(j.a)({},D.focused,s))},o),{},{children:Object(c.jsx)("div",{style:{backgroundColor:n},className:D.imageContainer,children:Object(c.jsx)("img",{src:a,alt:t})})}))},S=n(22),P={currentRound:0,currentWarBand:0,rounds:[],isGameCanBeSaved:!1},k=function(e){return{type:"GAME-REDUCER/SET-rounds",rounds:e}},I=function(e,t,n){return{type:"GAME-REDUCER/UPDATE-CARD",data:{roundIndex:e,index:t,newPropertyValues:n}}},T=function(e,t,n){return{type:"GAME-REDUCER/UPDATE-ACTIVATION-TOKEN",data:{roundIndex:e,index:t,newPropertyValues:n}}},F=function(e){return{type:"GAME-REDUCER/SET-CURRENT-ROUND",payload:e}},G=function(e){return{type:"GAME-REDUCER/SET-CURRENT-WAR-BAND",payload:e}},M=function(e,t){return{type:"GAME-REDUCER/SET-GLORY-POINTS",data:{roundIndex:e,newPropertyValues:t}}},U=function(e){return{type:"GAME-REDUCER/LOAD-GAME",data:e}},w=function(){return{type:"GAME-REDUCER/SAVE-GAME"}},B="move",L="attack",V="defend",W="dodge",Y=function(){var e=Object(x.b)(),t=Object(p.a)().t,n=Object(p.a)("warBands").t,r=Object(a.useState)(0),i=Object(C.a)(r,2),s=i[0],o=i[1],d=n("items",{returnObjects:!0}).map((function(t,n){var a=t.name,r=t.icon,i=t.color;return Object(c.jsx)(R,{name:a,image:r,color:i,isFocused:s===n,onClick:function(){o(n),e(G(n))}},"war-band-".concat(n))}));return Object(c.jsxs)("div",{className:A.a.root,children:[Object(c.jsx)("div",{className:A.a.title,children:t("chooseSquad")}),Object(c.jsxs)("div",{className:A.a.paper,children:[Object(c.jsx)("div",{className:A.a.items,children:d}),Object(c.jsx)("div",{className:A.a.bottom,children:Object(c.jsx)(v.b,{to:Oe.PLAY_FIELD.path,children:Object(c.jsx)(f,{onClick:function(){},children:t("acceptChoose")})})})]})]})},q=n(8),H=n(32),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.isActive}))},J=function(e){return e.filter((function(e){return!!e.healthPoints}))},X=function(e){return"/warhamer-underworlds"+e},K=function(e){return X("/images/icons/".concat(e,".png"))},Q=function(){var e=Object(p.a)().t,t=Object(x.c)((function(e){return e.game})).rounds,n=t.reduce((function(e,t){return e+function(e){return e.length-J(e).length}(t.cards)}),0),a=t.reduce((function(e,t){return e+t.gloryPoints.wasted.count}),0),r=t.reduce((function(e,t){return e+t.gloryPoints.notWasted.count}),0);return Object(c.jsxs)("div",{className:H.root,children:[Object(c.jsx)("div",{className:H.title,children:e("gameEnd")}),Object(c.jsx)("div",{className:H.statistics,children:Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("gloryPointTokens")}),Object(c.jsx)("td",{children:r})]})}),Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("notWasted")}),Object(c.jsx)("td",{children:r})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("wasted")}),Object(c.jsx)("td",{children:a})]})]}),Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("fightersInTheSquad")}),Object(c.jsx)("td",{children:r})]})}),Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("casualties")}),Object(c.jsx)("td",{children:n})]})})]})}),Object(c.jsx)("div",{className:H.bottom,children:Object(c.jsx)(v.b,{to:Oe.MAIN.path,children:Object(c.jsx)(f,{className:H.buttonAccept,children:e("accept")})})})]})},Z=n(12),$=n(37),ee=n(52),te=n.n(ee),ne=function(e){var t=e.size,n=e.srcDisabled,a=e.srcHover,r=e.srcDefault,i=e.className,s=Object(b.a)(e,["size","srcDisabled","srcHover","srcDefault","className"]),o="";return"tiny"===t&&(o=te.a.tiny),Object(c.jsx)("button",Object(u.a)({className:h()(te.a.root,i,o),style:{"--src-disabled":'url("'.concat(K(n||r),'")'),"--src-hover":'url("'.concat(K(a||r),'")'),"--src-default":'url("'.concat(K(r),'")')}},s))},ce=function(){var e=Object(q.f)().pathname;return Object(c.jsxs)("div",{className:$.root,children:[Object(c.jsx)(v.c,{to:Oe.CARDS.path,children:Object(c.jsx)(ne,{className:$.button,srcDefault:"ic_menu_selected_hero",srcHover:"ic_menu_selected_hero_active",srcDisabled:"ic_menu_selected_hero_active",disabled:e===Oe.CARDS.path})}),Object(c.jsx)(v.c,{to:Oe.PLAY_FIELD.path,children:Object(c.jsx)(ne,{className:$.button,srcDefault:"ic_menu_game_score",srcHover:"ic_menu_game_score_active",srcDisabled:"ic_menu_game_score_active",disabled:e===Oe.PLAY_FIELD.path})}),Object(c.jsx)(v.c,{exact:!0,to:Oe.MAIN.path,children:Object(c.jsx)(ne,{className:$.button,srcDefault:"ic_menu_save_and_exit",disabled:e===Oe.MAIN.path})})]})},ae=n(58),re=function(e){var t,n,a=e.className,r=void 0===a?"":a,i=e.isActive,s=void 0!==i&&i,o=Object(b.a)(e,["className","isActive"]);return s?(t=K("ic_activation_token"),n="Activation token active"):(t=K("ic_activation_token_spent"),n="Activation token spent"),Object(c.jsx)("div",Object(u.a)(Object(u.a)({className:m(ae.root,r)},o),{},{children:Object(c.jsx)("img",{src:t,alt:n})}))},ie=n(59),se=function(e){var t=e.className,n=e.children,a=Object(b.a)(e,["className","children"]);return Object(c.jsx)("div",Object(u.a)(Object(u.a)({className:m(ie.root,t)},a),{},{children:n}))},oe=function(){var e=Object(x.b)(),t=Object(p.a)().t,n=Object(x.c)((function(e){return e.game})).rounds,r=Object(x.c)((function(e){return e.game})).currentRound,i=Object(x.c)((function(e){return e.game})).isGameCanBeSaved;Object(a.useEffect)((function(){i&&e(w())}),[i]);var s=n[r],o=n.length,d=null===s||void 0===s?void 0:s.activationTokens,l=r<o-1,u=r>0,j=n.reduce((function(e,t){return e+t.gloryPoints.wasted.count}),0),b=n.reduce((function(e,t){return e+t.gloryPoints.notWasted.count}),0),_=function(){e(M(r,{notWasted:{count:b+1}}))},O=function(){e(M(r,{notWasted:{count:b-1}}))},m=function(){j&&(e(M(r,{wasted:{count:j-1}})),_())},h=function(){b&&(O(),e(M(r,{wasted:{count:j+1}})))},g=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?_():O()},E=function(t){t?l&&e(F(r+1)):u&&e(F(r-1))},N=null===d||void 0===d?void 0:d.map((function(t,n){var a=t.isActive;return Object(c.jsx)(re,{onClick:function(){e(T(r,n,{isActive:!a}))},isActive:a},n)}));return Object(c.jsxs)("div",{className:Z.root,children:[Object(c.jsxs)("div",{className:Z.top,children:[Object(c.jsx)(ne,{className:Z.buttonChangeRound,srcDefault:"ic_previous_round",srcHover:"ic_previous_round_pressed",srcDisabled:"ic_previous_round_inactive",disabled:!u,onClick:function(){return E(!1)}}),Object(c.jsx)(se,{className:Z.round,children:Object(c.jsxs)("span",{children:[t("round")," ",r+1]})}),Object(c.jsx)(ne,{className:Z.buttonChangeRound,srcDefault:"ic_next_round",srcHover:"ic_next_round_pressed",srcDisabled:"ic_next_round_inactive",disabled:!l,onClick:function(){return E(!0)}})]}),Object(c.jsx)("div",{className:Z.activationTokens,children:N}),Object(c.jsxs)("div",{className:Z.statistics,children:[Object(c.jsxs)("div",{className:Z.gloryPointsControls,children:[Object(c.jsx)(f,{theme:"secondary",onClick:function(){g(!0)},children:"+"}),Object(c.jsx)(f,{theme:"secondary",disabled:!b,onClick:function(){g(!1)},children:"-"})]}),Object(c.jsxs)("div",{className:Z.gloryPoints,children:[Object(c.jsxs)(f,{disabled:!b,className:Z.gloryPoint,onClick:function(){h()},children:[Object(c.jsx)("img",{src:K("ic_glory_point"),alt:"".concat(t("gloryPointTokens"),' {t("wasted")}')}),b]}),Object(c.jsxs)(f,{disabled:!j,className:Z.gloryPoint,onClick:function(){m()},children:[Object(c.jsx)("img",{src:K("ic_glory_point_spent"),alt:"".concat(t("gloryPointTokens"),' {t("notWasted")}')}),j]})]})]}),Object(c.jsxs)("div",{className:Z.bottom,children:[Object(c.jsx)(v.b,{to:Oe.GAME_END.path,className:Z.buttonEndGame,children:Object(c.jsx)(f,{theme:"third",children:t("endGame")})}),Object(c.jsx)(ce,{})]})]})},de=n(9),le=n.n(de),ue=n(24),je=function(e){var t,n=e.name,a=e.isDead,r=e.image,i=e.className,s=void 0===i?"":i,o=e.isFocused,d=Object(b.a)(e,["name","isDead","image","className","isFocused"]);return Object(c.jsx)("div",Object(u.a)(Object(u.a)({className:m(ue.root,s,(t={},Object(j.a)(t,ue.focused,o),Object(j.a)(t,ue.dead,a),t))},d),{},{children:Object(c.jsxs)("div",{className:ue.imageContainer,children:[Object(c.jsx)("img",{className:ue.imageFighter,src:r,alt:n}),Object(c.jsx)("img",{className:ue.imageIsDead,src:K("ic_fighter_is_dead"),alt:"Is dead"})]})}))},be=function(){var e,t=Object(x.b)(),n=(0,Object(p.a)("warBands").t)("items",{returnObjects:!0}),r=Object(x.c)((function(e){return e.game})).rounds,i=Object(x.c)((function(e){return e.game})).currentRound,s=Object(x.c)((function(e){return e.game})).currentWarBand,o=Object(a.useState)(0),d=Object(C.a)(o,2),l=d[0],u=d[1],b=Object(a.useState)(!1),_=Object(C.a)(b,2),O=_[0],m=_[1],h=Object(a.useState)(!1),v=Object(C.a)(h,2),g=v[0],E=v[1],N=r[i],y=null===N||void 0===N?void 0:N.activationTokens,A=z(y).length,D=(null===(e=r[i])||void 0===e?void 0:e.cards)||[];Object(a.useEffect)((function(){O&&m(!1)}),[l]);var R,S,P,k,F,G,M=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e)t(I(i,l,{healthPoints:(null===q||void 0===q?void 0:q.healthPoints)+1}));else{var n=q.healthPoints;n&&t(I(i,l,{healthPoints:n-1}))}},U=function(e){if(A){var n;t(I(i,l,Object(j.a)({},e,{applied:!0})));for(var c=y.length-1;c>=0;c--)if(y[c].isActive){n=c;break}n&&t(T(i,n,{isActive:!1}))}},w=function(e){t(I(i,l,Object(j.a)({},e,!1)))},Y=function(){E(!g)},q=D[0];if(q){var H=q.move,J=q.attack,X=q.defend,K=q.dodge;R=A&&!X.applied&&!K.applied&&!J.applied&&!H.applied,S=A&&!J.applied&&!H.applied,P=A&&!J.applied&&!H.applied,k=X.applied&&K.applied,F=J.applied,G=H.applied}var Q,Z=n[s].fighters,$=Z.map((function(e,t){var n=e.icon,a=e.name;return Object(c.jsx)(je,{isDead:!1,name:a,image:n,isFocused:l===t,onClick:function(){u(t)}},"fighter-".concat(t))})),ee=Z[l],te=ee.name,ae=ee.description,re=ee.card;return Q=O?re.flipped:re.default,Object(c.jsxs)("div",{className:le.a.root,children:[Object(c.jsx)("div",{className:le.a.top,children:Object(c.jsx)("div",{className:le.a.characters,children:$})}),Object(c.jsx)("div",{className:le.a.middle,children:q?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:le.a.card,children:[Object(c.jsxs)("div",{className:le.a.left,children:[Object(c.jsx)(f,{theme:"secondary",onClick:function(){m(!O)},children:Object(c.jsx)(ne,{size:"tiny",className:le.a.actionButton,srcDefault:O?"ic_condition_inspired_active":"ic_condition_inspired"})}),Object(c.jsx)(f,{theme:"secondary",disabled:!G&&!F,onClick:function(){w(B),w(L)},children:Object(c.jsx)(ne,{size:"tiny",className:le.a.actionButton,srcDefault:G&&F?"ic_condition_out_of_actions_active":"ic_condition_out_of_moves_active",srcDisabled:"ic_condition_out_of_actions",disabled:!G&&!F})}),Object(c.jsx)(f,{theme:"secondary",disabled:!k,onClick:function(){w(V),w(W)},children:Object(c.jsx)(ne,{size:"tiny",className:le.a.actionButton,srcDefault:"ic_condition_on_defensive_active",srcDisabled:"ic_condition_on_defensive",disabled:!k})})]}),Object(c.jsx)("div",{className:le.a.cardContainer,children:Object(c.jsx)("img",{onClick:Y,src:Q,alt:te})}),Object(c.jsxs)("div",{className:le.a.right,children:[Object(c.jsx)(f,{onClick:function(){M(!0)},theme:"secondary",children:"+"}),Object(c.jsx)("div",{className:le.a.healthPoints,children:q.healthPoints}),Object(c.jsx)(f,{disabled:!q.healthPoints,onClick:function(){M(!1)},theme:"secondary",children:"-"})]})]}),Object(c.jsxs)("div",{className:le.a.actions,children:[Object(c.jsx)(ne,{className:le.a.actionButton,srcDefault:"ic_action_defense",srcDisabled:"ic_activation_is_forbidden",disabled:!R,onClick:function(){U(V),U(W)}}),Object(c.jsx)(ne,{className:le.a.actionButton,srcDefault:"ic_condition_out_of_actions",srcDisabled:"ic_action_attack_forbidden",disabled:!S,onClick:function(){U(B),U(L)}}),Object(c.jsx)(ne,{className:le.a.actionButton,srcDefault:"ic_moves",srcDisabled:"ic_action_movement",disabled:!P,onClick:function(){U(B)}})]})]}):""}),Object(c.jsx)("div",{className:le.a.bottom,children:Object(c.jsx)(ce,{})}),g?Object(c.jsxs)("div",{className:le.a.cardFullScreenContainer,children:[Object(c.jsx)("div",{className:le.a.cardFullScreenTitle,children:te}),Object(c.jsx)("div",{className:le.a.cardFullScreenImageContainer,children:Object(c.jsx)("img",{onClick:Y,src:Q,alt:te})}),Object(c.jsx)("p",{className:le.a.cardFullScreenDescription,children:ae})]}):""]})},_e="GAME/COMMON-DATA",Oe={MAIN:{path:"/"},CHOOSE_SQUAD:{path:"/choose-squad"},GAME_END:{path:"/game-end"},PLAY_FIELD:{path:"/play-field"},CARDS:{path:"/cards"}};var me=function(){var e=Object(x.b)(),t=Object(p.a)().i18n,n=Object(x.c)((function(e){return e.settings})).language,r=Object(x.c)((function(e){return e.game})).rounds;return Object(a.useEffect)((function(){var t=function(){var e=localStorage.getItem(_e),t=null;if(e)try{t=JSON.parse(e)}catch(n){}return t}();t&&e(U(t))}),[]),Object(a.useEffect)((function(){t.changeLanguage(n)}),[n]),Object(a.useEffect)((function(){r.length||e(k(["\u041e\u0431\u0440\u0438\u043d \u043e\u0442\u0432\u0430\u0436\u043d\u044b\u0439","\u0421\u0435\u0432\u0435\u0440\u0438\u043d \u0421\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u0421\u0435\u0440\u0434\u0446\u0435","\u0410\u043d\u0433\u0430\u0440\u0434 \u0421\u0432\u0435\u0442\u043b\u044b\u0439 \u0429\u0438\u0442"].map((function(e,t){return{activationTokens:[{isActive:!0},{isActive:!0},{isActive:!0},{isActive:!0}],cards:[{id:t,name:e,healthPoints:5,move:{applied:!1},attack:{applied:!1},defend:{applied:!1},dodge:{applied:!1}}],gloryPoints:{wasted:{count:0},notWasted:{count:0}}}}))))}),[r,e]),Object(c.jsx)(v.a,{children:Object(c.jsx)("div",{className:d.a.content,children:Object(c.jsxs)(q.c,{children:[Object(c.jsx)(q.a,{path:Oe.CARDS.path,render:function(){return Object(c.jsx)(be,{})}}),Object(c.jsx)(q.a,{path:Oe.CHOOSE_SQUAD.path,render:function(){return Object(c.jsx)(Y,{})}}),Object(c.jsx)(q.a,{path:Oe.GAME_END.path,render:function(){return Object(c.jsx)(Q,{})}}),Object(c.jsx)(q.a,{path:Oe.PLAY_FIELD.path,render:function(){return Object(c.jsx)(oe,{})}}),Object(c.jsx)(q.a,{exact:!0,path:Oe.MAIN.path,render:function(){return Object(c.jsx)(N,{})}})]})})})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},fe=(n(79),n(21)),ve=n(63),pe=n(38),xe=n.n(pe),ge=n(33),Ee=xe.a.mark(Ce),Ne=xe.a.mark(ye);function Ce(){var e,t,n;return xe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(ge.b)((function(e){return e.game.rounds}));case 2:return e=c.sent,c.next=5,Object(ge.b)((function(e){return e.game.currentWarBand}));case 5:return t=c.sent,c.next=8,Object(ge.b)((function(e){return e.game.currentRound}));case 8:n=c.sent,a={rounds:e,currentRound:n,currentWarBand:t},localStorage.setItem(_e,JSON.stringify(a)),console.log("game saved");case 11:case"end":return c.stop()}var a}),Ee)}function ye(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.a)([Object(ge.c)("GAME-REDUCER/SAVE-GAME",Ce)]);case 2:case"end":return e.stop()}}),Ne)}var Ae=Object(fe.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,n=function(e,t,n){return e.map((function(e,c){return c===t&&(e=Object(u.a)(Object(u.a)({},e),n)),e}))};switch(t.type){case"GAME-REDUCER/SET-rounds":return Object(u.a)(Object(u.a)({},e),{},{rounds:Object(S.a)(t.rounds)});case"GAME-REDUCER/SET-CURRENT-ROUND":return Object(u.a)(Object(u.a)({},e),{},{currentRound:t.payload});case"GAME-REDUCER/SET-CURRENT-WAR-BAND":return Object(u.a)(Object(u.a)({},e),{},{currentWarBand:t.payload});case"GAME-REDUCER/UPDATE-ROUND":var c=t.data,a=c.index,r=c.newPropertyValues;return Object(u.a)(Object(u.a)({},e),{},{rounds:Object(S.a)(n(e.rounds,a,r))});case"GAME-REDUCER/UPDATE-CARD":var i=t.data,s=i.roundIndex,o=i.index,d=i.newPropertyValues,l=Object(S.a)(e.rounds);return l[s].cards=Object(S.a)(n(l[s].cards,o,d)),Object(u.a)(Object(u.a)({},e),{},{rounds:l});case"GAME-REDUCER/UPDATE-ACTIVATION-TOKEN":var j=t.data,b=j.roundIndex,_=j.index,O=j.newPropertyValues,m=Object(S.a)(e.rounds);return m[b].activationTokens=Object(S.a)(n(m[b].activationTokens,_,O)),Object(u.a)(Object(u.a)({},e),{},{rounds:m});case"GAME-REDUCER/SET-GLORY-POINTS":var h=t.data,f=h.roundIndex,v=h.newPropertyValues,p=Object(S.a)(e.rounds);return p[f].gloryPoints=Object(u.a)(Object(u.a)({},p[f].gloryPoints),v),Object(u.a)(Object(u.a)({},e),{},{rounds:p});case"GAME-REDUCER/RESET-GAME":return Object(u.a)({},P);case"GAME-REDUCER/LOAD-GAME":var x,g,E;return Object(u.a)(Object(u.a)({},P),{},{rounds:null===(x=t.data)||void 0===x?void 0:x.rounds,currentWarBand:null===(g=t.data)||void 0===g?void 0:g.currentWarBand,currentRound:null===(E=t.data)||void 0===E?void 0:E.currentRound,isGameCanBeSaved:!0});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETTINGS-REDUCER/SET-LANGUAGE":return Object(u.a)(Object(u.a)({},e),{},{language:t.language});default:return e}}}),De=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||fe.d,Re=Object(ve.a)(),Se=Object(fe.e)(Ae,De(Object(fe.a)(Re)));Re.run(ye);var Pe=n(27),ke=n(60),Ie=n(61);Pe.a.use(Ie.a).use(ke.a).init({ns:["common","warBands"],defaultNS:"common",fallbackLng:"ru",debug:!1,keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},detection:{order:["cookie","navigator","path","localStorage","subdomain","queryString","htmlTag"],lookupFromPathIndex:0,caches:["cookie"],cookieMinutes:1e7,lookupQuerystring:"i18next"},backend:{loadPath:X("/locales/{{lng}}/{{ns}}.json")},react:{wait:!1}},(function(e,t){Pe.a.t("myKey"),Pe.a.t("common:myKey")}));var Te=Pe.a,Fe=n(82),Ge=function(){return Object(c.jsx)("div",{children:"Loading..."})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Fe.a,{i18n:Te,children:Object(c.jsx)(a.Suspense,{fallback:Object(c.jsx)(Ge,{}),children:Object(c.jsx)(x.a,{store:Se,children:Object(c.jsx)(me,{})})})})}),document.getElementById("root")),he()},9:function(e,t,n){e.exports={root:"Cards_root__3RkX3",top:"Cards_top__3kvPN",characters:"Cards_characters__2jjA-",characterName:"Cards_characterName__1fnBW",middle:"Cards_middle__aBXFe",card:"Cards_card__2X5jI",left:"Cards_left__1vuLh",right:"Cards_right__1rR5w",cardContainer:"Cards_cardContainer__35eFG",actions:"Cards_actions__2fDA8",healthPoints:"Cards_healthPoints__3gxwV",bottom:"Cards_bottom__tFEIU",cardFullScreenContainer:"Cards_cardFullScreenContainer__2Fmmf",cardFullScreenImageContainer:"Cards_cardFullScreenImageContainer__2vNYv",cardFullScreenTitle:"Cards_cardFullScreenTitle__3G8FE",cardFullScreenDescription:"Cards_cardFullScreenDescription__1bqgV"}}},[[81,1,2]]]);
//# sourceMappingURL=main.cfc32500.chunk.js.map