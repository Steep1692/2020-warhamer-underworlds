(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,n){e.exports={root:"PlayField_root__1NBq1",top:"PlayField_top__15tpd",buttonChangeRound:"PlayField_buttonChangeRound__230Fu",round:"PlayField_round__1KHUt",activationTokens:"PlayField_activationTokens__3nNgI",statistics:"PlayField_statistics__3Y9a7",gloryPointsControls:"PlayField_gloryPointsControls__3d-w8",gloryPoints:"PlayField_gloryPoints__1g3p2",gloryPoint:"PlayField_gloryPoint__3anpN",bottom:"PlayField_bottom__39J6I",buttonEndGame:"PlayField_buttonEndGame__1GtlX"}},22:function(e,t,n){e.exports={root:"FighterItem_root__3fYUL",focused:"FighterItem_focused__1fytl",imageContainer:"FighterItem_imageContainer__2Ytdc",imageFighter:"FighterItem_imageFighter__w_NNR",iconOnItem:"FighterItem_iconOnItem__19kOW"}},29:function(e,t,n){e.exports={root:"Menu_root__15shr",title:"Menu_title__1VVIM",items:"Menu_items__3by7Z",item:"Menu_item__1zdMC"}},30:function(e,t,n){e.exports={root:"Button_root__2-QVb",primary:"Button_primary__FZqYg",secondary:"Button_secondary__1_JU8",third:"Button_third__3rmlg",disabled:"Button_disabled__3vE9A"}},31:function(e,t,n){e.exports={root:"ChooseSquad_root__zMTP1",title:"ChooseSquad_title__2vmE6",paper:"ChooseSquad_paper__1YGzK",items:"ChooseSquad_items__5WYYr",bottom:"ChooseSquad_bottom__1ijla"}},32:function(e,t,n){e.exports={root:"GameEnd_root__2h6Qj",title:"GameEnd_title__unVR0",statistics:"GameEnd_statistics__3iA8j",bottom:"GameEnd_bottom__PtfK7",buttonAccept:"GameEnd_buttonAccept__wDaSZ"}},38:function(e,t,n){e.exports={root:"InGameTabs_root__3tNls",button:"InGameTabs_button__1jr08"}},44:function(e,t,n){e.exports={root:"SquadItem_root__1GrLk",focused:"SquadItem_focused__1dRd7",imageContainer:"SquadItem_imageContainer__34L9E",name:"SquadItem_name__3vZRU"}},52:function(e,t,n){e.exports={root:"Icons_root__8nskU",tiny:"Icons_tiny__2YyJc"}},53:function(e,t,n){e.exports={content:"App_content__2cDQP"}},58:function(e,t,n){e.exports={root:"ActivationToken_root__18aDM"}},59:function(e,t,n){e.exports={root:"InnerBorderRadiusWrapper_root__zTUsN"}},60:function(e,t,n){e.exports={root:"Scroll_root__2WouV"}},8:function(e,t,n){e.exports={root:"Cards_root__3RkX3",top:"Cards_top__3kvPN",characters:"Cards_characters__2jjA-",characterName:"Cards_characterName__1fnBW",middle:"Cards_middle__aBXFe",card:"Cards_card__2X5jI",left:"Cards_left__1vuLh",right:"Cards_right__1rR5w",cardContainer:"Cards_cardContainer__35eFG",actions:"Cards_actions__2fDA8",healthPoints:"Cards_healthPoints__3gxwV",bottom:"Cards_bottom__tFEIU",cardFullScreenContainer:"Cards_cardFullScreenContainer__2Fmmf",cardFullScreenImageContainer:"Cards_cardFullScreenImageContainer__2vNYv",cardFullScreenTitle:"Cards_cardFullScreenTitle__3G8FE",cardFullScreenDescription:"Cards_cardFullScreenDescription__1bqgV"}},80:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),i=n(39),s=n.n(i),o=n(53),d=n.n(o),l=n(29),u=n(4),j=n(21),b=n(14),_=n(30),O=n.n(_),m=n(13),h=n.n(m),f=function(e){var t,n=e.className,a=e.theme,r=void 0===a?"primary":a,i=Object(b.a)(e,["className","theme"]);return"primary"===r?t=O.a.primary:"secondary"===r?t=O.a.secondary:"third"===r&&(t=O.a.third),Object(c.jsx)("button",Object(u.a)({className:h()(O.a.root,t,n,Object(j.a)({},O.a.disabled,i.disabled))},i))},p=n(11),v=n(84),x=n(9),E={language:"ru"},g=function(e){return{type:"SETTINGS-REDUCER/SET-LANGUAGE",language:e}},N=function(){var e=Object(v.a)().t,t=Object(x.b)(),n=Object(x.c)((function(e){return e.settings})).language;return Object(c.jsxs)("div",{className:l.root,children:[Object(c.jsx)(f,{theme:"secondary",onClick:function(){t(g("ru"===n?"en":"ru"))},children:n}),Object(c.jsxs)("div",{className:l.items,children:[Object(c.jsx)("div",{className:l.title,children:e("welcome")}),Object(c.jsx)(p.b,{to:xe.CHOOSE_SQUAD.path,className:l.item,children:Object(c.jsx)(f,{children:e("startGame")})}),Object(c.jsx)(p.b,{to:xe.PLAY_FIELD.path,className:l.item,children:Object(c.jsx)(f,{children:e("continue")})})]})]})},C=n(37),A=n(31),R=n.n(A),D=n(44),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.isActive}))},S=function(e){return e.filter((function(e){return!!e.healthPoints}))},I=function(e){return"/warhamer-underworlds"+e},P=function(e){return I("/images/icons/".concat(e,".png"))},T=function(e){return I("/images/fighters/".concat(e,".png"))},G=function(e){return I("/images/war-bands/".concat(e,".png"))},k=function(e,t){return I("/images/cards/".concat(t,"/").concat(e,".jpg"))},U=function(e){var t=e.name,n=e.color,a=e.icon,r=e.className,i=void 0===r?"":r,s=e.isFocused,o=Object(b.a)(e,["name","color","icon","className","isFocused"]);return Object(c.jsx)("div",Object(u.a)(Object(u.a)({className:m(D.root,i,Object(j.a)({},D.focused,s))},o),{},{children:Object(c.jsx)("div",{style:{backgroundColor:n},className:D.imageContainer,children:Object(c.jsx)("img",{src:G(a),alt:t})})}))},F=n(24),M={currentRound:0,currentWarBand:0,rounds:[],isGameCanBeSaved:!1},w=function(e){return{type:"GAME-REDUCER/SET-rounds",rounds:e}},B=function(e,t,n){return{type:"GAME-REDUCER/UPDATE-CARD",data:{roundIndex:e,index:t,newPropertyValues:n}}},L=function(e,t,n){return{type:"GAME-REDUCER/UPDATE-ACTIVATION-TOKEN",data:{roundIndex:e,index:t,newPropertyValues:n}}},W=function(e){return{type:"GAME-REDUCER/SET-CURRENT-ROUND",payload:e}},V=function(e){return{type:"GAME-REDUCER/SET-CURRENT-WAR-BAND",payload:e}},Y=function(e,t){return{type:"GAME-REDUCER/SET-GLORY-POINTS",data:{roundIndex:e,newPropertyValues:t}}},q=function(){return{type:"GAME-REDUCER/RESET-GAME"}},H=function(e){return{type:"GAME-REDUCER/LOAD-GAME-SUCCESS",data:e}},z="move",K="attack",X="defend",J="dodge",Q=function(){var e=Object(x.b)(),t=Object(v.a)().t,n=Object(v.a)("warBands").t,r=Object(a.useState)(0),i=Object(C.a)(r,2),s=i[0],o=i[1],d=n("items",{returnObjects:!0});Object(a.useEffect)((function(){e(q())}),[]),Object(a.useEffect)((function(){e(V(s))}),[s]);var l=d.map((function(e,t){var n=e.name,a=e.icon,r=e.color;return Object(c.jsx)(U,{name:n,icon:a,color:r,isFocused:s===t,onClick:function(){o(t)}},"war-band-".concat(t))}));return Object(c.jsxs)("div",{className:R.a.root,children:[Object(c.jsx)("div",{className:R.a.title,children:t("chooseSquad")}),Object(c.jsxs)("div",{className:R.a.paper,children:[Object(c.jsx)("div",{className:R.a.items,children:l}),Object(c.jsx)("div",{className:R.a.bottom,children:Object(c.jsx)(p.b,{to:xe.PLAY_FIELD.path,children:Object(c.jsx)(f,{children:t("acceptChoose")})})})]})]})},Z=n(7),$=n(32),ee=function(){var e=Object(v.a)().t,t=Object(x.c)((function(e){return e.game})).rounds,n=t.reduce((function(e,t){return e+function(e){return e.length-S(e).length}(t.cards)}),0),a=t.reduce((function(e,t){return e+t.gloryPoints.wasted.count}),0),r=t.reduce((function(e,t){return e+t.gloryPoints.notWasted.count}),0);return Object(c.jsxs)("div",{className:$.root,children:[Object(c.jsx)("div",{className:$.title,children:e("gameEnd")}),Object(c.jsx)("div",{className:$.statistics,children:Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("gloryPointTokens")}),Object(c.jsx)("td",{children:r})]})}),Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("notWasted")}),Object(c.jsx)("td",{children:r})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("wasted")}),Object(c.jsx)("td",{children:a})]})]}),Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("fightersInTheSquad")}),Object(c.jsx)("td",{children:r})]})}),Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e("casualties")}),Object(c.jsx)("td",{children:n})]})})]})}),Object(c.jsx)("div",{className:$.bottom,children:Object(c.jsx)(p.b,{to:xe.MAIN.path,children:Object(c.jsx)(f,{className:$.buttonAccept,children:e("accept")})})})]})},te=n(15),ne=n(38),ce=n(52),ae=n.n(ce),re=function(e){var t=e.size,n=e.srcDisabled,a=e.srcHover,r=e.srcDefault,i=e.className,s=Object(b.a)(e,["size","srcDisabled","srcHover","srcDefault","className"]),o="";return"tiny"===t&&(o=ae.a.tiny),Object(c.jsx)("button",Object(u.a)({className:h()(ae.a.root,i,o),style:{"--src-disabled":'url("'.concat(P(n||r),'")'),"--src-hover":'url("'.concat(P(a||r),'")'),"--src-default":'url("'.concat(P(r),'")')}},s))},ie=function(){var e=Object(Z.f)().pathname;return Object(c.jsxs)("div",{className:ne.root,children:[Object(c.jsx)(p.c,{to:xe.CARDS.path,children:Object(c.jsx)(re,{className:ne.button,srcDefault:"ic_menu_selected_hero",srcHover:"ic_menu_selected_hero_active",srcDisabled:"ic_menu_selected_hero_active",disabled:e===xe.CARDS.path})}),Object(c.jsx)(p.c,{to:xe.PLAY_FIELD.path,children:Object(c.jsx)(re,{className:ne.button,srcDefault:"ic_menu_game_score",srcHover:"ic_menu_game_score_active",srcDisabled:"ic_menu_game_score_active",disabled:e===xe.PLAY_FIELD.path})}),Object(c.jsx)(p.c,{exact:!0,to:xe.MAIN.path,children:Object(c.jsx)(re,{className:ne.button,srcDefault:"ic_menu_save_and_exit",disabled:e===xe.MAIN.path})})]})},se=n(58),oe=function(e){var t,n,a=e.className,r=void 0===a?"":a,i=e.isActive,s=void 0!==i&&i,o=Object(b.a)(e,["className","isActive"]);return s?(t=P("ic_activation_token"),n="Activation token active"):(t=P("ic_activation_token_spent"),n="Activation token spent"),Object(c.jsx)("div",Object(u.a)(Object(u.a)({className:m(se.root,r)},o),{},{children:Object(c.jsx)("img",{src:t,alt:n})}))},de=n(59),le=function(e){var t=e.className,n=e.children,a=Object(b.a)(e,["className","children"]);return Object(c.jsx)("div",Object(u.a)(Object(u.a)({className:m(de.root,t)},a),{},{children:n}))},ue=function(){var e=Object(x.b)(),t=Object(v.a)().t,n=Object(x.c)((function(e){return e.game})).rounds,a=Object(x.c)((function(e){return e.game})).currentRound,r=n[a],i=n.length,s=null===r||void 0===r?void 0:r.activationTokens,o=a<i-1,d=a>0,l=n.reduce((function(e,t){return e+t.gloryPoints.wasted.count}),0),u=n.reduce((function(e,t){return e+t.gloryPoints.notWasted.count}),0),j=function(){e(Y(a,{notWasted:{count:u+1}}))},b=function(){e(Y(a,{notWasted:{count:u-1}}))},_=function(){l&&(e(Y(a,{wasted:{count:l-1}})),j())},O=function(){u&&(b(),e(Y(a,{wasted:{count:l+1}})))},m=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?j():b()},h=function(t){t?o&&e(W(a+1)):d&&e(W(a-1))},E=null===s||void 0===s?void 0:s.map((function(t,n){var r=t.isActive;return Object(c.jsx)(oe,{onClick:function(){e(L(a,n,{isActive:!r}))},isActive:r},n)}));return Object(c.jsxs)("div",{className:te.root,children:[Object(c.jsxs)("div",{className:te.top,children:[Object(c.jsx)(re,{className:te.buttonChangeRound,srcDefault:"ic_previous_round",srcHover:"ic_previous_round_pressed",srcDisabled:"ic_previous_round_inactive",disabled:!d,onClick:function(){return h(!1)}}),Object(c.jsx)(le,{className:te.round,children:Object(c.jsxs)("span",{children:[t("round")," ",a+1]})}),Object(c.jsx)(re,{className:te.buttonChangeRound,srcDefault:"ic_next_round",srcHover:"ic_next_round_pressed",srcDisabled:"ic_next_round_inactive",disabled:!o,onClick:function(){return h(!0)}})]}),Object(c.jsx)("div",{className:te.activationTokens,children:E}),Object(c.jsxs)("div",{className:te.statistics,children:[Object(c.jsxs)("div",{className:te.gloryPointsControls,children:[Object(c.jsx)(f,{theme:"secondary",onClick:function(){m(!0)},children:"+"}),Object(c.jsx)(f,{theme:"secondary",disabled:!u,onClick:function(){m(!1)},children:"-"})]}),Object(c.jsxs)("div",{className:te.gloryPoints,children:[Object(c.jsxs)(f,{disabled:!u,className:te.gloryPoint,onClick:function(){O()},children:[Object(c.jsx)("img",{src:P("ic_glory_point"),alt:"".concat(t("gloryPointTokens"),' {t("wasted")}')}),u]}),Object(c.jsxs)(f,{disabled:!l,className:te.gloryPoint,onClick:function(){_()},children:[Object(c.jsx)("img",{src:P("ic_glory_point_spent"),alt:"".concat(t("gloryPointTokens"),' {t("notWasted")}')}),l]})]})]}),Object(c.jsxs)("div",{className:te.bottom,children:[Object(c.jsx)(p.b,{to:xe.GAME_END.path,className:te.buttonEndGame,children:Object(c.jsx)(f,{theme:"third",children:t("endGame")})}),Object(c.jsx)(ie,{})]})]})},je=n(8),be=n.n(je),_e=n(22),Oe=n.n(_e),me=function(e){var t=e.item,n=e.className,a=void 0===n?"":n,r=e.isFocused,i=Object(b.a)(e,["item","className","isFocused"]),s=t.iconName,o=t.name,d=t.healthPoints,l=t.attack,_=t.defend,O=t.dodge,m=t.move,f=0===d;return Object(c.jsx)("div",Object(u.a)(Object(u.a)({className:h()(Oe.a.root,a,Object(j.a)({},Oe.a.focused,r))},i),{},{children:Object(c.jsxs)("div",{className:Oe.a.imageContainer,children:[Object(c.jsx)("img",{className:Oe.a.imageFighter,src:T(s),alt:o}),f&&Object(c.jsx)("img",{className:Oe.a.iconOnItem,src:P("ic_fighter_is_dead"),alt:"Is dead"}),l.applied&&m.applied&&Object(c.jsx)("img",{className:Oe.a.iconOnItem,src:P("ic_condition_out_of_actions"),alt:"Is dead"}),_.applied&&Object(c.jsx)("img",{className:Oe.a.iconOnItem,src:P("ic_action_defense"),alt:"Is dead"}),O.applied&&Object(c.jsx)("img",{className:Oe.a.iconOnItem,src:P("ic_action_defense"),alt:"Is dead"}),m.applied&&!l.applied&&Object(c.jsx)("img",{className:Oe.a.iconOnItem,src:P("ic_moves"),alt:"Is dead"})]})}))},he=n(60),fe=n.n(he),pe=function(e){var t=e.className,n=Object(b.a)(e,["className"]);return Object(c.jsx)("div",Object(u.a)({className:h()(fe.a.root,t)},n))},ve=function(){var e,t,n,r,i,s,o,d,l,u=Object(x.b)(),b=Object(x.c)((function(e){return e.game})),_=b.rounds,O=b.currentRound,m=Object(x.c)((function(e){return e.settings})).language,h=Object(a.useState)(0),p=Object(C.a)(h,2),v=p[0],E=p[1],g=Object(a.useState)(!1),N=Object(C.a)(g,2),A=N[0],R=N[1],D=_[O],S=null===D||void 0===D?void 0:D.activationTokens,I=y(S).length,P=(null===(e=_[O])||void 0===e?void 0:e.cards)||[],T=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=M.healthPoints;e?u(B(O,v,{healthPoints:t+1})):t&&u(B(O,v,{healthPoints:t-1}))},G=function(e){if(I){for(var t=-1,n=S.length-1;n>=0;n--)if(S[n].isActive){t=n;break}-1!==t&&(u(L(O,t,{isActive:!1})),u(B(O,v,Object(j.a)({},e,{applied:!0}))))}},U=function(e){u(B(O,v,Object(j.a)({},e,!1)))},F=function(){R(!A)},M=P[v],w="",W="",V=!1;if(M){var Y=M.move,q=M.attack,H=M.defend,Q=M.dodge;t=I&&!H.applied&&!Q.applied&&!q.applied&&!Y.applied,n=I&&!q.applied&&!Y.applied,r=I&&!q.applied&&!Y.applied,i=H.applied&&Q.applied,s=q.applied,o=Y.applied,d="none"!==M.cardInspiredName,w=M.name,W=M.description,V=M.isInspired,l=k(V?M.cardInspiredName:M.cardName,m)}var Z=P.map((function(e,t){return Object(c.jsx)(me,{item:e,isFocused:v===t,onClick:function(){E(t)}},"fighter-".concat(t))}));return Object(c.jsxs)("div",{className:be.a.root,children:[Object(c.jsx)("div",{className:be.a.top,children:Object(c.jsx)("div",{className:be.a.characters,children:Z})}),Object(c.jsx)("div",{className:be.a.middle,children:M?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:be.a.card,children:[Object(c.jsxs)("div",{className:be.a.left,children:[Object(c.jsx)(f,{theme:"secondary",disabled:!d,onClick:function(){u(B(O,v,{isInspired:!V}))},children:Object(c.jsx)(re,{size:"tiny",className:be.a.actionButton,disabled:!d,srcDisabled:"ic_condition_inspired_inactive",srcDefault:V?"ic_condition_inspired_active":"ic_condition_inspired"})}),Object(c.jsx)(f,{theme:"secondary",disabled:!o&&!s,onClick:function(){U(z),U(K)},children:Object(c.jsx)(re,{size:"tiny",className:be.a.actionButton,srcDefault:o&&s?"ic_condition_out_of_actions_active":"ic_condition_out_of_moves_active",srcDisabled:"ic_condition_out_of_actions",disabled:!o&&!s})}),Object(c.jsx)(f,{theme:"secondary",disabled:!i,onClick:function(){U(X),U(J)},children:Object(c.jsx)(re,{size:"tiny",className:be.a.actionButton,srcDefault:"ic_condition_on_defensive_active",srcDisabled:"ic_condition_on_defensive",disabled:!i})})]}),Object(c.jsx)("div",{className:be.a.cardContainer,children:Object(c.jsx)("img",{onClick:F,src:l,alt:w})}),Object(c.jsxs)("div",{className:be.a.right,children:[Object(c.jsx)(f,{onClick:function(){T(!0)},theme:"secondary",children:"+"}),Object(c.jsx)("div",{className:be.a.healthPoints,children:M.healthPoints}),Object(c.jsx)(f,{disabled:!M.healthPoints,onClick:function(){T(!1)},theme:"secondary",children:"-"})]})]}),Object(c.jsxs)("div",{className:be.a.actions,children:[Object(c.jsx)(re,{className:be.a.actionButton,srcDefault:"ic_action_defense",srcDisabled:"ic_activation_is_forbidden",disabled:!t,onClick:function(){G(X),G(J)}}),Object(c.jsx)(re,{className:be.a.actionButton,srcDefault:"ic_condition_out_of_actions",srcDisabled:"ic_action_attack_forbidden",disabled:!n,onClick:function(){G(z),G(K)}}),Object(c.jsx)(re,{className:be.a.actionButton,srcDefault:"ic_moves",srcDisabled:"ic_action_movement",disabled:!r,onClick:function(){G(z)}})]})]}):""}),Object(c.jsx)("div",{className:be.a.bottom,children:Object(c.jsx)(ie,{})}),A?Object(c.jsxs)("div",{className:be.a.cardFullScreenContainer,children:[Object(c.jsx)("div",{className:be.a.cardFullScreenTitle,children:w}),Object(c.jsx)("div",{className:be.a.cardFullScreenImageContainer,children:Object(c.jsx)("img",{onClick:F,src:l,alt:w})}),Object(c.jsx)(pe,{children:Object(c.jsx)("p",{className:be.a.cardFullScreenDescription,children:W})})]}):""]})},xe={MAIN:{path:"/"},CHOOSE_SQUAD:{path:"/choose-squad"},GAME_END:{path:"/game-end"},PLAY_FIELD:{path:"/play-field"},CARDS:{path:"/cards"}};var Ee=function(){var e=Object(x.b)(),t=Object(v.a)().i18n,n=Object(v.a)("warBands").t,r=Object(v.a)("fighters").t,i=n("items",{returnObjects:!0}),s=r("items",{returnObjects:!0}),o=Object(x.c)((function(e){return e.settings})).language,l=i[Object(x.c)((function(e){return e.game})).currentWarBand],u=l.fighters,j=s.filter((function(e){var t=e.id;return u.includes(t)}));return Object(a.useEffect)((function(){t.changeLanguage(o)}),[o]),Object(a.useEffect)((function(){e(w([0,0,0].map((function(e){return{activationTokens:[{isActive:!0},{isActive:!0},{isActive:!0},{isActive:!0}],cards:j.map((function(e){return{id:e.id,name:e.name,healthPoints:e.healthPoints,iconName:e.iconName,cardInspiredName:e.cardInspiredName,cardName:e.cardName,description:e.description,isInspired:!1,move:{applied:!1},attack:{applied:!1},defend:{applied:!1},dodge:{applied:!1}}})),gloryPoints:{wasted:{count:0},notWasted:{count:0}}}}))))}),[l]),Object(c.jsx)(p.a,{children:Object(c.jsx)("div",{className:d.a.content,children:Object(c.jsxs)(Z.c,{children:[Object(c.jsx)(Z.a,{path:xe.CARDS.path,render:function(){return Object(c.jsx)(ve,{})}}),Object(c.jsx)(Z.a,{path:xe.CHOOSE_SQUAD.path,render:function(){return Object(c.jsx)(Q,{})}}),Object(c.jsx)(Z.a,{path:xe.GAME_END.path,render:function(){return Object(c.jsx)(ee,{})}}),Object(c.jsx)(Z.a,{path:xe.PLAY_FIELD.path,render:function(){return Object(c.jsx)(ue,{})}}),Object(c.jsx)(Z.a,{exact:!0,path:xe.MAIN.path,render:function(){return Object(c.jsx)(N,{})}})]})})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},Ne=(n(80),n(23)),Ce=n(64),Ae=n(26),Re=n.n(Ae),De=n(12),ye="GAME/COMMON-DATA",Se=function(){var e=localStorage.getItem(ye),t=null;if(e)try{t=JSON.parse(e)}catch(n){}return t},Ie=Re.a.mark(Ge),Pe=Re.a.mark(ke),Te=Re.a.mark(Ue);function Ge(){var e,t,n;return Re.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(De.c)((function(e){return e.game.rounds}));case 2:return e=c.sent,c.next=5,Object(De.c)((function(e){return e.game.currentWarBand}));case 5:return t=c.sent,c.next=8,Object(De.c)((function(e){return e.game.currentRound}));case 8:n=c.sent,a={rounds:e,currentRound:n,currentWarBand:t},localStorage.setItem(ye,JSON.stringify(a)),console.log("game saved",{rounds:e,currentRound:n,currentWarBand:t});case 11:case"end":return c.stop()}var a}),Ie)}function ke(){var e;return Re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=Se())){t.next=5;break}return t.next=4,Object(De.b)(H(e));case 4:console.log("game loaded",e);case 5:case"end":return t.stop()}}),Pe)}function Ue(){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([Object(De.d)("GAME-REDUCER/SAVE-GAME",Ge),Object(De.d)("GAME-REDUCER/LOAD-GAME",ke),Object(De.d)("GAME-REDUCER/SET-rounds",Ge),Object(De.d)("GAME-REDUCER/UPDATE-ROUND",Ge),Object(De.d)("GAME-REDUCER/UPDATE-CARD",Ge),Object(De.d)("GAME-REDUCER/UPDATE-ACTIVATION-TOKEN",Ge),Object(De.d)("GAME-REDUCER/SET-CURRENT-ROUND",Ge),Object(De.d)("GAME-REDUCER/SET-CURRENT-WAR-BAND",Ge),Object(De.d)("GAME-REDUCER/SET-GLORY-POINTS",Ge)]);case 2:case"end":return e.stop()}}),Te)}var Fe=Object(Ne.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,n=function(e,t,n){return e.map((function(e,c){return c===t&&(e=Object(u.a)(Object(u.a)({},e),n)),e}))};switch(t.type){case"GAME-REDUCER/SET-rounds":return Object(u.a)(Object(u.a)({},e),{},{rounds:Object(F.a)(t.rounds)});case"GAME-REDUCER/SET-CURRENT-ROUND":return Object(u.a)(Object(u.a)({},e),{},{currentRound:t.payload});case"GAME-REDUCER/SET-CURRENT-WAR-BAND":return Object(u.a)(Object(u.a)({},e),{},{currentWarBand:t.payload});case"GAME-REDUCER/UPDATE-ROUND":var c=t.data,a=c.index,r=c.newPropertyValues;return Object(u.a)(Object(u.a)({},e),{},{rounds:Object(F.a)(n(e.rounds,a,r))});case"GAME-REDUCER/UPDATE-CARD":var i=t.data,s=i.roundIndex,o=i.index,d=i.newPropertyValues,l=Object(F.a)(e.rounds);return l[s].cards=Object(F.a)(n(l[s].cards,o,d)),Object(u.a)(Object(u.a)({},e),{},{rounds:l});case"GAME-REDUCER/UPDATE-ACTIVATION-TOKEN":var j=t.data,b=j.roundIndex,_=j.index,O=j.newPropertyValues,m=Object(F.a)(e.rounds);return m[b].activationTokens=Object(F.a)(n(m[b].activationTokens,_,O)),Object(u.a)(Object(u.a)({},e),{},{rounds:m});case"GAME-REDUCER/SET-GLORY-POINTS":var h=t.data,f=h.roundIndex,p=h.newPropertyValues,v=Object(F.a)(e.rounds);return v[f].gloryPoints=Object(u.a)(Object(u.a)({},v[f].gloryPoints),p),Object(u.a)(Object(u.a)({},e),{},{rounds:v});case"GAME-REDUCER/RESET-GAME":return Object(u.a)({},M);case"GAME-REDUCER/LOAD-GAME-SUCCESS":var x,E,g;return Object(u.a)(Object(u.a)({},M),{},{rounds:null===(x=t.data)||void 0===x?void 0:x.rounds,currentWarBand:null===(E=t.data)||void 0===E?void 0:E.currentWarBand,currentRound:null===(g=t.data)||void 0===g?void 0:g.currentRound,isGameCanBeSaved:!0});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETTINGS-REDUCER/SET-LANGUAGE":return Object(u.a)(Object(u.a)({},e),{},{language:t.language});default:return e}}}),Me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||Ne.d,we=Object(Ce.a)(),Be=Object(Ne.e)(Fe,Me(Object(Ne.a)(we)));we.run(Ue);var Le=n(28),We=n(61),Ve=n(62);Le.a.use(Ve.a).use(We.a).init({ns:["common","warBands","fighters"],defaultNS:"common",fallbackLng:"ru",debug:!1,keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},detection:{order:["cookie","navigator","path","localStorage","subdomain","queryString","htmlTag"],lookupFromPathIndex:0,caches:["cookie"],cookieMinutes:1e7,lookupQuerystring:"i18next"},backend:{loadPath:I("/locales/{{lng}}/{{ns}}.json")},react:{wait:!1}},(function(e,t){Le.a.t("myKey"),Le.a.t("common:myKey")}));var Ye=Le.a,qe=n(83),He=function(){return Object(c.jsx)("div",{children:"Loading..."})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(qe.a,{i18n:Ye,children:Object(c.jsx)(a.Suspense,{fallback:Object(c.jsx)(He,{}),children:Object(c.jsx)(x.a,{store:Be,children:Object(c.jsx)(Ee,{})})})})}),document.getElementById("root")),ge()}},[[82,1,2]]]);
//# sourceMappingURL=main.c7354d90.chunk.js.map